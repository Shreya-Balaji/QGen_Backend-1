# **Drone-based solar panel inspection with 5G and AI Technologies**

Jie -Tong Zou, and Rajveer G V

Department of Aeronautical Engineering, National Formosa University, Hu-Wei, Yunlin, Taiwan Corresponding author. Tel.: +886-56315556; Fax: +886-56312415 E-mail: scott@nfu.edu.tw

**Abstract**

It's been considered an incomplete task for years to maintain large solar power plants for years. Presented here is an Artificial Intelligence (AI) based defects detection of Photovoltaic(PV) modules using Thermal Images (TI) darknet YOLOV4 object detection, which can be processed in two ways: (1) Creating a huge number of high-resolution TI samples using a huge number of TI generation methods; and (2) using the generated TI's, to develop an efficient method of defects classification. Convolution Neural Network (CNN) technology and traditional image processing technology are combined to result in the TI object detection method. This method has a capability of training a large number of highresolution TI samples to give a good AI model output. Then, CNN is used to extract the deep feature of TI to show the defected cells. In other hand using enhanced 5G technology it is used to operate the drone for long range and by help of AI, can send the defected cells location to the ground station. Compared to other solutions, using it can improve PV module inspection and health management solutions significantly. It has been demonstrated experimentally that the proposed AIbased solution is efficient and accurate at detecting defects using TI and drones automatically.

**Key words:** Artificial Intelligence (AI), 5G, Solar Panel, YOLO, Thermal Images, Object Detection

## **Introduction**

Being in the modern and technological world, the world's population is increasing day by day. This causes the energy challenge in the living world. In addition to finding alternatives to fossil fuels, we must look for green and renewable energy sources too [1]. Bearing in mind, that we are in the technological world, obtaining energy from solar power plants has gotten recognition. And on the other hand, the establishment of solar panels has become an easy task. But, it needs systematic inspection and maintenance also. Many researchers have been examined the inspection and maintenance of their ways. Due to the fact that deep learningbased approaches for classifying and detecting objects have been proposed in recent years [2]. So, considering the hands-ontechnology world we implemented Artificial Intelligence (AI) system in Unmanned Aerial Vehicle (UAV) to do real-time inspection and detection of solar panel defects and failures. In this paper, will discuss all about the methodology, implementation, experiments, and results of real-time detection of solar panel defects and failures using AI system in UAV.

# **Inspection methods and types of failures in solar power plants**

# *A. Types of PV failures*

Obstruction that occurs in PV plants includes cracks, cell failure, delamination, failure due to shadows, failure due to weeds, delamination, string failure, mismatches, snail tracks, and cluster failures. When these failures or defects occur in a solar cell, they cause abnormal heat that generates in the solar cell. Figure 1 shows an example of a solar cell crack.


---
### Figure 1

**Original Image Reference in Document:** `_page_0_Picture_12.jpeg` (Alt: ``)

**Figure Description (Generated by Moondream):**
The image presents a close-up view of a heat-sensitive surface, likely a sensor or detector, exhibiting a pattern of dark and bright regions. The bright areas appear to be concentrated in specific areas, while the darker regions are more evenly distributed. The surface shows signs of thermal expansion and contraction, with some areas appearing slightly raised or elevated. The numerical values visible are relatively low, indicating a low-temperature environment. Overall, the image highlights the thermal properties of the material and suggests potential applications in fields such as electronics, sensors, or biomedical devices.
---


**Figure 1 Crack Failure in solar Cell**

## *B. Types of Inspection Methods*

Illustrative methods for detecting defected or failed solar panels include visual inspection method, I-V measurement, Electroluminescence, Infrared Thermography, UAV with a thermal camera, Real-Time analysis, and Data Acquisition System (DAS), Real-Time analysis with UAV and Thermal Camera. But, choosing an efficient, effective,time-saving, and reliable method is a difficult task. So, after some literature survey and comparison methods, choosing the right inspection was UAV with a thermal camera.

## **Inspection by UAV with Thermal Camera**

## *A. How to detect and send the location of defected solar panel*

We aimed to do an automated inspection of the solar power plant by importing a mission to UAV and to get the report using thermal and RGB images which will be a more efficient and effective way of inspection. UAV inspection consists of shooting detection and sending real-time location.

On the first hand, we initialized to take defected panel images using a quad-copter (UAV) and FLIR DUO PRO R thermal camera. Next step we used AI to detect the failed and defective solar panels. At this time, we used Python, OpenCV, and Darknet YOLO-V4 (You Only Look Once) to detection. Finally, yet importantly, we get the real-time GPS location of a defected or failed solar panel by a drone using python. In this work, we stated that it is possible to detect failed or defected solar panels automatically using a normalized image-processing library and deep learning program.

# *B. Equipment Used*

We used a quadcopter (drone), shown in Figure 2, and a FLIR Duo Pro R (Thermal camera). 640 by 512 pixels resolutions and 30 frames per second (fps) are the features of FLIR duo Pro R. In addition, a 3-axis gimbal is attached to it.


---
### Figure 2

**Original Image Reference in Document:** `_page_1_Picture_3.jpeg` (Alt: ``)

**Figure Description (Generated by Moondream):**
The image shows a red and black drone equipped with a camera and a remote control. The drone is positioned on a gray floor, with a small screen displaying a video feed. The drone's design suggests it is likely used for aerial surveying or monitoring, possibly in a controlled environment like a hangar or laboratory. The camera appears to be a multi-camera system, possibly for enhanced stability and data collection. The remote control is likely used for controlling the drone's movements and data acquisition. Overall, the image highlights the integration of advanced technology in drone design for specific applications.
---


**Figure 2 Quadcopter with FLIR Duo Pro R**

## *C. Thermal and RGB images*

When a solar panel is defected or failed, abnormal heat will be generated in the solar panel. That abnormal heat will be detected using thermographic images, which include hotspots, cracks, and other types of cell failures also. Figure 3 describes a hotspot caused by bird shits. An area of high resistance obscured by weeds and dirt generates electric current, which generates abnormal heat in that area. The generated current on a panel cannot pass if a cluster failure, a panel failure, or a string failure occurs because of the failure of the electric circuit. The generated current will be directly converted into heat, which causes the hotspot.


---
### Figure 3

**Original Image Reference in Document:** `_page_1_Picture_7.jpeg` (Alt: ``)

**Figure Description (Generated by Moondream):**
The image displays a close-up view of a grid-like structure, likely a solar panel array, with alternating purple and orange panels. The purple panels appear to be emitting a faint, reddish glow, possibly indicating a temperature difference or a specific condition within the panels. The orange panels appear darker, suggesting a lower temperature or a different material composition. The grid pattern is regular and uniform, with the purple and orange panels arranged in a consistent offset pattern. The image suggests a thermal imaging or infrared analysis, potentially revealing temperature variations or heat distribution within the solar panel array.
---


**Figure 3 Cell Failure with Hotspot**

## *D. Computational Requirements*

**Table 1** and **Table 2** shows the hardware and software we used, respectively.

| Softwares       | Version              |
|-----------------|----------------------|
| OS              | Linux (Ubuntu 18.04) |
| Python          | 3.9.10               |
| OpenCV          | 4.5.4                |
| Darknet YOLO    |                      |
| FLIR Tools      |                      |
| Mission Planner | 1.2.21               |

| Hardware's Used |                           |  |  |
|-----------------|---------------------------|--|--|
| Hardware        | Version                   |  |  |
| CPU             | Intel Core i7             |  |  |
| Memory          | 16 GB                     |  |  |
| GPU             | NVIDIA Geforce GTX 1080TI |  |  |
| SSD             | 500 GB                    |  |  |
| Jetson Nano     | 4 GB – 64 GB              |  |  |

## *E. Defected or Failed Image Classification*

The number of data sets of thermal images were collected and labeled using label.img software. Python OpenCV was used for image processing. We classified the labels as solar panel and solar cell failure. All the labeled images were trained, and trained images weights were used for object detection. The sample data, which consists of 1000 thermal images, which includes 641 cell failures. Approximately 90% of the image data were used for learning, and 10% for verification as shown in Figure 4.

## *F. Training and output*

The image data training has been completed using NVIDIA GPU TESLA K8 using darknet yolo-v4 and yolo convolution neural network (YOLO-CNN-29). In Figure 5, the number of epochs and their accuracy is shown. When yolo-CNN-29 learned 18 epochs, the accuracy has attained 100%. These trained weights are used to do object classification.

## *G. Real-Time Detection*

To detect failures and defects of solar panels, we have many ways, but the implemented way here is to assemble the quadcopter with FLIR Duo Pro R thermal camera embedded with NVIDIA Jetson Nano and 3-axis gimbal. By artificial intelligence and an embedded system, the REAL-TIME LOCATION (position) of the defected cell will be sent to the ground station, and the defected cell or the good cell can be identified with an embedded system (Thermal Image Classification). The system architecture was shown as in Figure 6. And, the entire real-time detection process was carried out as shown in Figure 7.


---
### Figure 4

**Original Image Reference in Document:** `_page_2_Figure_0.jpeg` (Alt: ``)

**Figure Description (Generated by Moondream):**
This figure presents a model architecture for predicting solar panel performance using YOLO-v4-CONV.29. The model is composed of three main components: a Convolutional Neural Network (CNN), a Max Pooling Layer, and a Leaky ReLU activation function. The CNN is trained on a dataset of solar panels, while the Max Pooling Layer is used to reduce the dimensionality of the input. The Leaky ReLU activation function is included to prevent the model from becoming too sensitive to small changes in the input. The model's performance is evaluated using a validation dataset, and the final prediction is compared to the actual solar panel performance. Overall, the model demonstrates a high level of accuracy and robustness, with a significant reduction in computational complexity compared to traditional deep learning architectures.
---


**Figure 4 Training Flow**


---
### Figure 5

**Original Image Reference in Document:** `_page_2_Figure_2.jpeg` (Alt: ``)

**Figure Description (Generated by Moondream):**
The chart displays the model accuracy for two different metrics: Accuracy and Val_acc. The accuracy initially increases rapidly, reaching a peak around epoch 10, and then gradually declines. The Val_acc metric shows a similar trend, with a peak around epoch 10 and a gradual decline. Both metrics plateau around epoch 30, indicating a stable performance. The accuracy and Val_acc values are closely correlated, suggesting a strong relationship between the two metrics. Overall, the chart highlights the effectiveness of the model in achieving high accuracy and Val_acc values, with a clear trend of improvement over time.
---


**Figure 5 Number of Epochs and Accuracy**


---
### Figure 6

**Original Image Reference in Document:** `_page_2_Figure_4.jpeg` (Alt: ``)

**Figure Description (Generated by Moondream):**
This image depicts a schematic flowchart illustrating the process of analyzing a damaged cell. The flowchart shows the sequential steps involved: Gimbal, FLIR Duo Pro R Thermal Camera, Flight Controller (Auto Pilot), NVIDIA Jetson NANO, Thermal & RGB Images, Radio Transmitter (Telemetry), Ground Station, Scanning of Defects, Real-Time Position & Location of Defected Cell, and Data Transmission. The key findings include the use of an IN-Built Embedded system for real-time data acquisition and transmission, highlighting the integration of multiple sensor technologies and data processing steps. The diagram also highlights the importance of accurate positioning and location information for effective defect analysis and subsequent damage assessment.
---


**Figure 6 System Architecture**

## **Results**

The experiment results were stated from basic test-fly, automatic take-off and landing, altitude control, auto mission, object detection, solar panel, and cell failure detection. All these experiments have been done asshown in Figure 8, Figure 9,


---
### Figure 7

**Original Image Reference in Document:** `_page_2_Figure_8.jpeg` (Alt: ``)

**Figure Description (Generated by Moondream):**
The image depicts a flowchart illustrating the process of a multi-rotor test flight. The flowchart is structured in a hierarchical manner, starting with theoretical research, followed by quad copter design and fixation, and culminating in calibrating the flight control system. The flowchart highlights key technical findings, including the multi-rotor test flight, the attachment of FLIR Duo Pro R Thermal Camera, and the quad copter test flight with FLIR. It also shows the image processing steps, including the embedding of the system to detect and send real-time data, and the completion of the module. The flowchart emphasizes the importance of theoretical research, the design and fabrication of components, and the calibration of the flight control system. It also highlights the integration of FLIR technology with the quad-copter test flight. Overall, the flowchart provides a clear and concise overview of the multi-rotor test flight process, highlighting the technical challenges and the integration of FLIR technology.
---


**Figure 7 Real-Time Flow Process**

Figure 10, Figure 11, Figure 12. Figure 10 is a thermal image which is captured in FLIR Duo Pro R thermal camera and the object detection was performed using Darknet yolo V4 and CNN-29 with thermal camera. And, the pink rectangle shows the solar panel with 100% confidence, the green rectangle shows the cell failure with 32% confidence. The detection confidence has been increased after training the object detection model again.

| aesil@aesil-desktop: - \$ sudo python3 123.py                                     |  |  |
|-----------------------------------------------------------------------------------|--|--|
| Autopilot Firmware version: APM:UnknownVehicleType14-4.0.7                        |  |  |
| Autopilot capabilities (supports ftp): True                                       |  |  |
| Global Location: LocationGlobal:lat=23.7080276,lon=120.4194352,alt=0.08           |  |  |
| Global Location (relative altitude): LocationGlobalRelative:lat=23.7080276, Lon=1 |  |  |
| 20.4194352,alt=0.084                                                              |  |  |
| Local Location: LocationLocal:north=None,east=None,down=None                      |  |  |
| Attitude: Attitude:pitch=0.01141158863902092,yaw=1.7452462911605835,roll=0.00380  |  |  |
| 5378917604685                                                                     |  |  |
| Velocity: [0.0, 0.0, 0.0]                                                         |  |  |
| GPS: GPSInfo:fix=1,num sat=0                                                      |  |  |
| Groundspeed: 0.0048174187541007996                                                |  |  |
| Airspeed: 0.0                                                                     |  |  |
| Gimbal status: Gimbal: pitch=None, roll=None, yaw=None                            |  |  |
| Battery: Battery:voltage=0.0,current=None,level=None                              |  |  |
| EKF OK ?: False                                                                   |  |  |
| Last Heartbeat: 0.12013885500005017                                               |  |  |
| Rangefinder: Rangefinder: distance=None, voltage=None                             |  |  |
| Rangefinder distance: None                                                        |  |  |
| Rangefinder voltage: None                                                         |  |  |
|                                                                                   |  |  |
| Heading: 99<br>Is Armable ?: False                                                |  |  |
|                                                                                   |  |  |
| System status: STANDBY                                                            |  |  |
| Mode: STABILIZE                                                                   |  |  |
| Armed: False                                                                      |  |  |

**Figure 8 Basic Test**

| hesil@aesil-desktop: ~\$ sudo cat /dev/ttyTHS1      |
|-----------------------------------------------------|
| [sudo] password for aesil :                         |
| aesileaesil-desktop: >> sudo chmod 666 /dev/ttyTHSI |
| aesil@aesil-desktop: < \$ python3 takeoff.py        |
| Connecting to vehicle on: /dev/ttyTHS1              |
| about to takeoff. And                               |
| Basic pre-arm checks                                |
| Waiting for vehicle to initialise                   |
| Waiting for vehicle to initialise                   |
| Waiting for vehicle to initialise                   |
| Arming motors                                       |
| Waiting for arming                                  |
| Taking off!                                         |
| Altitude:<br>0.02                                   |
| Altitude:<br>0.022                                  |
| Altitude:<br>0.5                                    |
| Altitude:<br>2.209                                  |
| Altitude:<br>4.356                                  |
| Altitude:<br>6.231                                  |
| 7.475<br>Altitude:                                  |
| Altitude:<br>7.66                                   |
| Reached target altitude                             |
| aesil@aesil-desktop: - \$                           |


---
### Figure 10 is a thermal image which is captured in FLIR Duo Pro R thermal camera and the object detection was performed using Darknet yolo V4 and CNN-29 with thermal camera. And, the pink rectangle shows the solar panel with 100% confidence, the green rectangle shows the cell failure with 32% confidence. The detection confidence has been increased after training theobject detection model again.

**Original Image Reference in Document:** `_page_3_Figure_3.jpeg` (Alt: ``)

**Figure Description (Generated by Moondream):**
This image is a caption for Figure 9 of a scientific paper. It describes a thermal image of a car's engine, captured using a FLIR Duo Pro R thermal camera. The image shows a pink rectangle indicating a solar panel with 100% confidence, and a green rectangle indicating a cell failure with 32% confidence. The caption also mentions that the detection confidence has been increased after retraining the object detection model using Darknet yolo V4 and CNN-29 with thermal camera. The caption concludes by noting trends, patterns, and numerical values observed in the image.
---



---
### Figure 9

**Original Image Reference in Document:** `_page_3_Figure_5.jpeg` (Alt: ``)

**Figure Description (Generated by Moondream):**
The image displays a heat map showing the temperature distribution across a solar panel. The heat map reveals a significant concentration of high temperatures, particularly in the central and upper regions, indicating areas of cell failure. The temperature difference between the top and bottom panels is notable, with the top panel showing a much higher temperature. The overall trend suggests that the solar panel is experiencing a high rate of degradation, with a notable increase in temperature in the central and upper regions.
---


**Figure 10 Object Detection Test (cell Failure)**

|                                                | 8 9 0 aesil@aesil-desktop: ~/darknet |
|------------------------------------------------|--------------------------------------|
| FPS:14.4<br>Objects:                           | AVG FPS:13.2                         |
| keyboard: 86%<br>62%<br>mouse:                 |                                      |
| FPS:14.4<br>Objects:                           | AVG FPS:13.2                         |
| keyboard: 86%<br>mouse: 72%                    |                                      |
| FPS:14.3<br>Objects:                           | AVG FPS:13.2                         |
| cell phone: 25%<br>keyboard: 85%<br>mouse: 75% |                                      |
| FPS:14.3<br>Objects:                           | AVG FPS:13.2                         |
| cell phone: 25%<br>keyboard: 86%<br>mouse: 79% |                                      |
| FPS:14.1<br>Objects:                           | AVG FPS:13.2                         |
| cell phone: 36%<br>keyboard: 81%<br>mouse: 77% |                                      |

**Figure 11 Basic Object Detection Test**


---
### Figure 10

**Original Image Reference in Document:** `_page_3_Figure_9.jpeg` (Alt: ``)

**Figure Description (Generated by Moondream):**
The image shows a solar panel array with a significant number of damaged cells, specifically a cluster of cells labeled "cell failure." This cluster is located near the center of the panel and is surrounded by a larger, intact panel. The image also highlights the presence of a "solar panel" in the top left corner, suggesting that the damage is not limited to a single area. The overall visual suggests a decline in the efficiency of the solar panel system, with a notable decrease in the number of functioning cells.
---


**Figure 12 Object Detection Test (Cell Failure***)*

A function will be developed in the future for getting the GPS location of defective cell and to map the defected location using PiX4D*.*

# **Conclusion**

In order to provide a more accurate and efficient method of detecting failed solar panels, we compared several methods and determined after several literature studies, a literature survey, and experiments, drone with thermal camera integrated with AI is the most efficient and effective. Although the confidence level of cell failure was low, it has increased to 89% after the mean Average Precision was increased to 100%. We expect that of getting GPS location of a defected solar panel during inspection.

## **References**

- [1] Heinberg, R.; Fridley, D. *Our Renewable Future: Laying the Path for One Hundred Percent Clean Energy*; Island Press/Center for Resource Economics: Washington, DC, USA, 2016; pp. 1–15, ISBN-13: 978-1-61091-780-3.
- [2] F. A. Khan1, B.K. Gautam and S. Singh, *"Detection of defects in solar panels using thermal imaging by PCA and ICA method*," International Research Journal of Engineering and Technology (IRJET),vol. 04 , No. 06 2017.
- [3] D. M. Tsai, S. C. Wu, and W. C. Li, "*Defect detection of solar cells in electroluminescence images using Fourier image reconstruction,*" Solar Energy Materials and Solar Cells, vol. 99, 250-262, 2012.
- [4] A. Tekale and S. Varma, *"Defect detection in solar modules using ICA basis image,*" International Journal of Electrical and Electronics Research ISSN 2348-6988 (online) Vol. 2, No.4, (259-270),2014.
- [5] Y. F. A. Khan1, B.K. Gautam and S. Singh, "*Detection of defects in solar panels using thermal imaging by PCA and ICA method*," International Research Journal of Engineering and Technology (IRJET),vol. 04 , No. 06 2017.
- [6] F. Zhuang, Z.Yanzheng, L.Yang, C. Qixin ,C. Mingbo, Jun, Z.
- [7] Lee, "*Solar cell crack inspection by image processing. IEEE InternationalConference* " Reliability and Liability," pp. 77-80, 2004.
- [8] A. Krizhevsky, I. Sutskever, and Hinton E. Geoffrey, *" ImageNet Classification with Deep Convolutional Neural Networks*," Advances in neural information processing systems. 2012.
- [9] F. Chollet, Deep Learning with Python. Manning, 2017.
- [10] H. Chen, Y. Pang, Q. Hu, and K. Liu, "*Solar cell surface defect inspection based on multispectral convolutional neural network*," Journal of Intelligent Manufacturing, pp.1-16, 2018.
- [11] M. Rahman and H. Chen, "*Defects Inspection in Polycrystalline Solar Cells Electroluminescence Images Using Deep Learning*," IEEE access Journal, In press.
- [12] R. Pierdicca, E. S. Malinverni, F. Piccinini, M. Paolanti, A. Felicetti, and P. Zingaretti, "*Deep Convolutional Neural Network for Automatic Detection of Damaged Photovoltaic Cells*," International Archives of the Photogrammetry, vol.42 No.2, 2018.